(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Dashboard"],{"09e8":function(t,e,i){},3203:function(t,e,i){"use strict";var r=i("666d"),s=i.n(r);s.a},"34e6":function(t,e,i){"use strict";var r=i("09e8"),s=i.n(r);s.a},"4b32":function(t,e,i){},"666d":function(t,e,i){},7277:function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container_page"},[i("div",{staticClass:"sidebar"},[i("div",[i("div",{staticClass:"sidebar_item"},[i("v-card-title",{staticClass:"text-center"},[t._v("Dashboard")]),i("div",[i("v-card",{staticClass:"mx-auto",attrs:{"max-width":"300",tile:"",dark:""}},[i("v-list",{attrs:{rounded:""}},[i("v-subheader",[t._v("Catégorie")]),i("v-list-item-group",{attrs:{color:"primary"}},t._l(t.listeMenu,(function(e,r){return i("v-list-item",{key:r},[i("v-list-item-icon",[i("v-icon",{domProps:{textContent:t._s(e.icon)}})],1),i("v-list-item-content",[i("v-list-item-title",{domProps:{textContent:t._s(e.text)}})],1)],1)})),1)],1)],1),i("div",{staticClass:"my-2"},[i("v-btn",{attrs:{small:"",color:"error"},on:{click:function(e){return t.logout()}}},[t._v("Déconnexion")])],1)],1)],1)])]),i("div",{staticClass:"body"},[i("h1",[t._v("Espace Administrateur")]),i("div",{attrs:{id:"admin-container"}},[i("div",{attrs:{id:"admin-actualites"}},[i("h2",[t._v("Liste de vos événements")]),i("div",{staticClass:"container_actualites"},[i("div",{staticClass:"items_actualites"},t._l(t.event,(function(e,r){return i("v-card",{key:r,staticClass:"card",attrs:{dark:""}},[i("div",{staticClass:"d-flex flex-column align-content-center flex-wrap justify-space-around"},[i("div",[i("h5",{domProps:{textContent:t._s(e.title)}}),i("p",{domProps:{textContent:t._s(e.soustitle)}}),i("v-spacer"),i("p",[t._v(t._s(e.texte))])],1),i("v-avatar",{staticClass:"ma-3",attrs:{size:"70",tile:""}},[i("v-img",{attrs:{src:e.imageUrl}})],1),i("div",{staticClass:"my-2"},[i("v-btn",{attrs:{small:"",color:"error"},on:{click:function(i){return t.deleteEvent(e._id)}}},[t._v("Supprimer")])],1)],1)])})),1),i("div",{staticClass:"container_formulaire"},[i("h2",[t._v("Ajouter un évenement")]),i("div",{staticClass:"container_formEvent"},[i("FormAdmin")],1)])])]),i("div",{attrs:{id:"admin-projets"}},[i("h2",[t._v("Liste de vos Projets")]),i("div",{staticClass:"container_projet"},[i("div",{staticClass:"item_projets"},t._l(t.projet,(function(e,r){return i("v-col",{key:r,attrs:{cols:"3"}},[i("v-card",{attrs:{dark:""}},[i("div",{staticClass:"d-flex flex-wrap justify-space-around"},[i("div",[i("h5",{domProps:{textContent:t._s(e.title)}}),i("p",{domProps:{textContent:t._s(e.description)}}),i("v-spacer"),i("p",[t._v(t._s(e.date))])],1),i("v-avatar",{staticClass:"ma-3",attrs:{size:"125",tile:""}},[i("v-img",{attrs:{src:e.imageUrl}})],1),i("div",{staticClass:"my-2"},[i("v-btn",{attrs:{small:"",color:"error"},on:{click:function(i){return t.deleteProjet(e._id)}}},[t._v("Supprimer")])],1)],1)])],1)})),1),i("div",{staticClass:"container_formulaire2"},[i("h2",[t._v("Ajouter un projet")]),i("div",{staticClass:"container_formEvent"},[i("ProjetForm")],1)])])]),i("div",{staticClass:"galerie_container"},[i("div",[i("h2",[t._v("Ajouter une photo à la galerie")]),i("div",{staticClass:"galerie_container"},[i("Select")],1)])])])])])},s=[],a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-row",{attrs:{align:"center"}},[i("v-form",{ref:"form",attrs:{enctype:"multipart/form-data"},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[i("v-text-field",{attrs:{counter:30,rules:t.titreRules,label:"Titre",required:""},model:{value:t.titre,callback:function(e){t.titre=e},expression:"titre"}}),i("p",[t._v(t._s(t.titre))]),i("v-text-field",{attrs:{counter:30,rules:t.soustitreRules,label:"Sous-Titre",required:""},model:{value:t.soustitre,callback:function(e){t.soustitre=e},expression:"soustitre"}}),i("v-col",{attrs:{cols:"12",md:"12"}},[i("v-textarea",{attrs:{counter:400,rules:t.texteRules,solo:"",name:"input-7-4",label:"Texte"},model:{value:t.texte,callback:function(e){t.texte=e},expression:"texte"}})],1),i("input",{ref:"uploadBtn",attrs:{type:"file"},on:{change:t.loadFile}}),i("v-btn",{staticClass:"mr-4",attrs:{disabled:!t.valid,color:"success"},on:{click:t.validate}},[t._v(" Valider ")]),i("v-btn",{staticClass:"mr-4",attrs:{color:"error"},on:{click:t.reset}},[t._v(" Effacer formulaire ")])],1)],1)},n=[],o={name:"FormAdmin",data:function(){return{valid:!0,titre:"",titreRules:[function(t){return!!t||"Le titre est obligatoire !"},function(t){return t&&t.length<=30||"Le titre ne doit pas dépasser 30 caractères."}],soustitre:"",soustitreRules:[function(t){return!!t||"Le sous-titre est obligatoire !"},function(t){return t&&t.length<=30||"Le titre ne doit pas dépasser 30 caractères."}],texte:"",texteRules:[function(t){return!!t||"Le texte est obligatoire !"},function(t){return t&&t.length<=400||"Le titre ne doit pas dépasser 400 caractères."}],file:"",checkbox:!1}},methods:{loadFile:function(){this.file=this.$refs.uploadBtn.files[0]},validate:function(){var t=this,e={title:this.titre,soustitle:this.soustitre,texte:this.texte},i=new FormData;i.append("image",this.file),i.append("event",JSON.stringify(e)),this.$store.dispatch("CreateOneEvent",i).then((function(){t.reset()}))},reset:function(){this.$refs.form.reset()}}},l=o,c=(i("34e6"),i("2877")),u=Object(c["a"])(l,a,n,!1,null,"7bc2982b",null),d=u.exports,v=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-row",{attrs:{align:"center"}},[i("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[i("v-text-field",{attrs:{counter:30,rules:t.titreRules,label:"Titre",required:""},model:{value:t.titre,callback:function(e){t.titre=e},expression:"titre"}}),i("p",[t._v(t._s(t.titre))]),i("v-text-field",{attrs:{counter:30,rules:t.dateRules,label:"Date(ex: Mai 2020)",required:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),i("v-col",{attrs:{cols:"12",md:"12"}},[i("v-textarea",{attrs:{counter:400,rules:t.descriptionRules,solo:"",name:"input-7-4",label:"description du projets"},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1),i("input",{ref:"uploadBtn",attrs:{type:"file"},on:{change:t.loadFile}}),i("v-btn",{staticClass:"mr-4",attrs:{disabled:!t.valid,color:"success"},on:{click:t.validate}},[t._v(" Valider ")]),i("v-btn",{staticClass:"mr-4",attrs:{color:"error"},on:{click:t.reset}},[t._v(" Effacer formulaire ")])],1)],1)},f=[],p=(i("a4d3"),i("e01a"),{name:"ProjetForm",data:function(){return{valid:!0,titre:"",titreRules:[function(t){return!!t||"Le titre est obligatoire !"},function(t){return t&&t.length<=30||"Le titre ne doit pas dépasser 30 caractères."}],date:"",dateRules:[function(t){return!!t||"Le sous-titre est obligatoire !"},function(t){return t&&t.length<=30||"Le titre ne doit pas dépasser 30 caractères."}],description:"",descriptionRules:[function(t){return!!t||"Le texte est obligatoire !"},function(t){return t&&t.length<=400||"Le titre ne doit pas dépasser 400 caractères."}],file:"",checkbox:!1}},methods:{loadFile:function(){this.file=this.$refs.uploadBtn.files[0]},validate:function(){var t=this,e={title:this.titre,description:this.description,date:this.date},i=new FormData;i.append("image",this.file),i.append("projet",JSON.stringify(e)),this.$store.dispatch("CreateOneProjet",i).then((function(){t.reset()}))},reset:function(){this.$refs.form.reset()}}}),m=p,h=(i("c8ac"),Object(c["a"])(m,v,f,!1,null,"1fcb7516",null)),b=h.exports,x=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-form",{ref:"form",staticClass:" d-flex justify-center formulaire",attrs:{"lazy-validation":t.lazy},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[i("v-select",{attrs:{items:t.items,rules:[function(t){return!!t||"Selectionner une catégorie"}],label:"Selectionner la catégorie",required:""},model:{value:t.select,callback:function(e){t.select=e},expression:"select"}}),i("v-text-field",{attrs:{counter:20,rules:t.titreRules,label:"Titre",required:""},model:{value:t.titre,callback:function(e){t.titre=e},expression:"titre"}}),i("input",{ref:"uploadBtn",attrs:{required:"",type:"file"},on:{change:t.loadFile}}),i("v-btn",{staticClass:"mr-4",attrs:{disabled:!t.valid,color:"success"},on:{click:t.validate}},[t._v(" Valider ")])],1)],1)},_=[],g={data:function(){return{valid:!0,titre:"",titreRules:[function(t){return!!t||"Le titre est requis"},function(t){return t&&t.length<=20||"Moins de 20 lettres"}],select:null,items:["jeunesse","education","sante","solidarite","espoir"],lazy:!1,file:""}},methods:{loadFile:function(){this.file=this.$refs.uploadBtn.files[0]},validate:function(){var t={title:this.titre,categorie:this.select},e=new FormData,i=this.select;e.append("image",this.file),e.append(i,JSON.stringify(t)),e.append("select",i),this.$store.dispatch("AddImage",{formData:e,selection:i}).then((function(){}))},reset:function(){this.$refs.form.reset()}}},C=g,j=(i("8ad8"),Object(c["a"])(C,x,_,!1,null,"69fe18ad",null)),k=j.exports,y={name:"Dashboard",components:{FormAdmin:d,ProjetForm:b,Select:k},data:function(){return{listeMenu:[{text:"Evenements",icon:"mdi-clock"},{text:"Projets",icon:"mdi-account"},{text:"Galerie Photo",icon:"mdi-flag"}]}},methods:{deleteEvent:function(t){var e=t;this.$store.dispatch("deleteOneEvent",e)},deleteProjet:function(t){var e=t;this.$store.dispatch("deleteOneProjet",e)},logout:function(){this.$store.dispatch("logout"),this.$router.push("/login")}},computed:{event:function(){return this.$store.state.evenements},projet:function(){return this.$store.state.projets}},created:function(){this.$store.dispatch("getAllEvent"),this.$store.dispatch("getAllProjet")}},$=y,P=(i("3203"),Object(c["a"])($,r,s,!1,null,"bc892032",null));e["default"]=P.exports},"8ad8":function(t,e,i){"use strict";var r=i("4b32"),s=i.n(r);s.a},ad37:function(t,e,i){},c8ac:function(t,e,i){"use strict";var r=i("ad37"),s=i.n(r);s.a}}]);
//# sourceMappingURL=Dashboard.b2839c0c.js.map